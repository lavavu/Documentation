<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>tracers module &#8212; LavaVu 1.9.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=4066f3b2" />
    <script src="_static/documentation_options.js?v=574b2d58"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="User Interface commands" href="Interaction.html" />
    <link rel="prev" title="points module" href="points.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="tracers-module">
<h1>tracers module<a class="headerlink" href="#tracers-module" title="Link to this heading">¶</a></h1>
<p>Tracer particles in a vector field</p>
<ul class="simple">
<li><p>Requires scipy.interpolate</p></li>
</ul>
<section id="module-summary">
<h2>Module Summary<a class="headerlink" href="#module-summary" title="Link to this heading">¶</a></h2>
<section id="functions">
<h3>functions:<a class="headerlink" href="#functions" title="Link to this heading">¶</a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#tracers.random_particles" title="tracers.random_particles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tracers.random_particles</span></code></a></p></td>
<td><p>Return an array of <em>count</em> 3d vertices of random particle positions Minimum and maximum values defined by lowerbound and upperbound</p></td>
</tr>
</tbody>
</table>
</section>
<section id="classes">
<h3>classes:<a class="headerlink" href="#classes" title="Link to this heading">¶</a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#tracers.RegularGridInterpolator" title="tracers.RegularGridInterpolator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tracers.RegularGridInterpolator</span></code></a></p></td>
<td><p>Interpolator on a regular or rectilinear grid in arbitrary dimensions.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tracers.Tracers" title="tracers.Tracers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tracers.Tracers</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="module-details">
<h2>Module Details<a class="headerlink" href="#module-details" title="Link to this heading">¶</a></h2>
<section id="id1">
<h3>functions:<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="tracers.random_particles">
<span class="sig-name descname"><span class="pre">random_particles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lowerbound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upperbound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1,</span> <span class="pre">1,</span> <span class="pre">1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tracers.html#random_particles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tracers.random_particles" title="Link to this definition">¶</a></dt>
<dd><p>Return an array of <em>count</em> 3d vertices of random particle positions
Minimum and maximum values defined by lowerbound and upperbound</p>
</dd></dl>

</section>
<section id="id2">
<h3>classes:<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="tracers.RegularGridInterpolator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RegularGridInterpolator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solver_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scipy/interpolate/_rgi.html#RegularGridInterpolator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tracers.RegularGridInterpolator" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Interpolator on a regular or rectilinear grid in arbitrary dimensions.</p>
<p>The data must be defined on a rectilinear grid; that is, a rectangular
grid with even or uneven spacing. Linear, nearest-neighbor, spline
interpolations are supported. After setting up the interpolator object,
the interpolation method may be chosen at each evaluation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>points</strong> (<em>tuple</em><em> of </em><em>ndarray</em><em> of </em><em>float</em><em>, </em><em>with shapes</em><em> (</em><em>m1</em><em>, </em><em>)</em><em>, </em><em>...</em><em>, </em><em>(</em><em>mn</em><em>, </em><em>)</em>) – The points defining the regular grid in n dimensions. The points in
each dimension (i.e. every elements of the points tuple) must be
strictly ascending or descending.</p></li>
<li><p><strong>values</strong> (<em>array_like</em><em>, </em><em>shape</em><em> (</em><em>m1</em><em>, </em><em>...</em><em>, </em><em>mn</em><em>, </em><em>...</em><em>)</em>) – The data on the regular grid in n dimensions. Complex data is
accepted.</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – The method of interpolation to perform. Supported are “linear”,
“nearest”, “slinear”, “cubic”, “quintic” and “pchip”. This
parameter will become the default for the object’s <code class="docutils literal notranslate"><span class="pre">__call__</span></code>
method. Default is “linear”.</p></li>
<li><p><strong>bounds_error</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, when interpolated values are requested outside of the
domain of the input data, a ValueError is raised.
If False, then <cite>fill_value</cite> is used.
Default is True.</p></li>
<li><p><strong>fill_value</strong> (<em>float</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – The value to use for points outside of the interpolation domain.
If None, values outside the domain are extrapolated.
Default is <code class="docutils literal notranslate"><span class="pre">np.nan</span></code>.</p></li>
<li><p><strong>solver</strong> (<em>callable</em><em>, </em><em>optional</em>) – <p>Only used for methods “slinear”, “cubic” and “quintic”.
Sparse linear algebra solver for construction of the NdBSpline instance.
Default is the iterative solver <cite>scipy.sparse.linalg.gcrotmk</cite>.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.13.</span></p>
</div>
</p></li>
<li><p><strong>solver_args</strong> (<em>dict</em><em>, </em><em>optional</em>) – <p>Additional arguments to pass to <cite>solver</cite>, if any.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.13.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="tracers.RegularGridInterpolator.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scipy/interpolate/_rgi.html#RegularGridInterpolator.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tracers.RegularGridInterpolator.__call__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tracers.RegularGridInterpolator.grid">
<span class="sig-name descname"><span class="pre">grid</span></span><a class="headerlink" href="#tracers.RegularGridInterpolator.grid" title="Link to this definition">¶</a></dt>
<dd><p>The points defining the regular grid in n dimensions.
This tuple defines the full grid via
<code class="docutils literal notranslate"><span class="pre">np.meshgrid(*grid,</span> <span class="pre">indexing='ij')</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple of ndarrays</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tracers.RegularGridInterpolator.values">
<span class="sig-name descname"><span class="pre">values</span></span><a class="headerlink" href="#tracers.RegularGridInterpolator.values" title="Link to this definition">¶</a></dt>
<dd><p>Data values at the grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tracers.RegularGridInterpolator.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#tracers.RegularGridInterpolator.method" title="Link to this definition">¶</a></dt>
<dd><p>Interpolation method.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tracers.RegularGridInterpolator.fill_value">
<span class="sig-name descname"><span class="pre">fill_value</span></span><a class="headerlink" href="#tracers.RegularGridInterpolator.fill_value" title="Link to this definition">¶</a></dt>
<dd><p>Use this value for out-of-bounds arguments to <cite>__call__</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tracers.RegularGridInterpolator.bounds_error">
<span class="sig-name descname"><span class="pre">bounds_error</span></span><a class="headerlink" href="#tracers.RegularGridInterpolator.bounds_error" title="Link to this definition">¶</a></dt>
<dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, out-of-bounds argument raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Notes</p>
<p>Contrary to <cite>LinearNDInterpolator</cite> and <cite>NearestNDInterpolator</cite>, this class
avoids expensive triangulation of the input data by taking advantage of the
regular grid structure.</p>
<p>In other words, this class assumes that the data is defined on a
<em>rectilinear</em> grid.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.14.</span></p>
</div>
<p>The ‘slinear’(k=1), ‘cubic’(k=3), and ‘quintic’(k=5) methods are
tensor-product spline interpolators, where <cite>k</cite> is the spline degree,
If any dimension has fewer points than <cite>k</cite> + 1, an error will be raised.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.9.</span></p>
</div>
<p>If the input data is such that dimensions have incommensurate
units and differ by many orders of magnitude, the interpolant may have
numerical artifacts. Consider rescaling the data before interpolating.</p>
<p><strong>Choosing a solver for spline methods</strong></p>
<p>Spline methods, “slinear”, “cubic” and “quintic” involve solving a
large sparse linear system at instantiation time. Depending on data,
the default solver may or may not be adequate. When it is not, you may
need to experiment with an optional <cite>solver</cite> argument, where you may
choose between the direct solver (<cite>scipy.sparse.linalg.spsolve</cite>) or
iterative solvers from <cite>scipy.sparse.linalg</cite>. You may need to supply
additional parameters via the optional <cite>solver_args</cite> parameter (for instance,
you may supply the starting value or target tolerance). See the
<cite>scipy.sparse.linalg</cite> documentation for the full list of available options.</p>
<p>Alternatively, you may instead use the legacy methods, “slinear_legacy”,
“cubic_legacy” and “quintic_legacy”. These methods allow faster construction
but evaluations will be much slower.</p>
<p class="rubric">Examples</p>
<p><strong>Evaluate a function on the points of a 3-D grid</strong></p>
<p>As a first example, we evaluate a simple example function on the points of
a 3-D grid:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">scipy.interpolate</span><span class="w"> </span><span class="kn">import</span> <span class="n">RegularGridInterpolator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="n">z</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">22</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">33</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xg</span><span class="p">,</span> <span class="n">yg</span> <span class="p">,</span><span class="n">zg</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">indexing</span><span class="o">=</span><span class="s1">&#39;ij&#39;</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">xg</span><span class="p">,</span> <span class="n">yg</span><span class="p">,</span> <span class="n">zg</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">data</span></code> is now a 3-D array with <code class="docutils literal notranslate"><span class="pre">data[i,</span> <span class="pre">j,</span> <span class="pre">k]</span> <span class="pre">=</span> <span class="pre">f(x[i],</span> <span class="pre">y[j],</span> <span class="pre">z[k])</span></code>.
Next, define an interpolating function from this data:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">interp</span> <span class="o">=</span> <span class="n">RegularGridInterpolator</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">),</span> <span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>Evaluate the interpolating function at the two points
<code class="docutils literal notranslate"><span class="pre">(x,y,z)</span> <span class="pre">=</span> <span class="pre">(2.1,</span> <span class="pre">6.2,</span> <span class="pre">8.3)</span></code> and <code class="docutils literal notranslate"><span class="pre">(3.3,</span> <span class="pre">5.2,</span> <span class="pre">7.1)</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">2.1</span><span class="p">,</span> <span class="mf">6.2</span><span class="p">,</span> <span class="mf">8.3</span><span class="p">],</span>
<span class="gp">... </span>                <span class="p">[</span><span class="mf">3.3</span><span class="p">,</span> <span class="mf">5.2</span><span class="p">,</span> <span class="mf">7.1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">interp</span><span class="p">(</span><span class="n">pts</span><span class="p">)</span>
<span class="go">array([ 125.80469388,  146.30069388])</span>
</pre></div>
</div>
<p>which is indeed a close approximation to</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mf">2.1</span><span class="p">,</span> <span class="mf">6.2</span><span class="p">,</span> <span class="mf">8.3</span><span class="p">),</span> <span class="n">f</span><span class="p">(</span><span class="mf">3.3</span><span class="p">,</span> <span class="mf">5.2</span><span class="p">,</span> <span class="mf">7.1</span><span class="p">)</span>
<span class="go">(125.54200000000002, 145.894)</span>
</pre></div>
</div>
<p><strong>Interpolate and extrapolate a 2D dataset</strong></p>
<p>As a second example, we interpolate and extrapolate a 2D data set:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">ff</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xg</span><span class="p">,</span> <span class="n">yg</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">indexing</span><span class="o">=</span><span class="s1">&#39;ij&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ff</span><span class="p">(</span><span class="n">xg</span><span class="p">,</span> <span class="n">yg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">interp</span> <span class="o">=</span> <span class="n">RegularGridInterpolator</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="n">data</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="n">bounds_error</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">xg</span><span class="o">.</span><span class="n">ravel</span><span class="p">(),</span> <span class="n">yg</span><span class="o">.</span><span class="n">ravel</span><span class="p">(),</span> <span class="n">data</span><span class="o">.</span><span class="n">ravel</span><span class="p">(),</span>
<span class="gp">... </span>           <span class="n">s</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Evaluate and plot the interpolator on a finer grid</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">31</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">yy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">31</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">xx</span><span class="p">,</span> <span class="n">yy</span><span class="p">,</span> <span class="n">indexing</span><span class="o">=</span><span class="s1">&#39;ij&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># interpolator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">plot_wireframe</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">interp</span><span class="p">((</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">)),</span> <span class="n">rstride</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">cstride</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="gp">... </span>                  <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;linear interp&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ground truth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">plot_wireframe</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">ff</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">),</span> <span class="n">rstride</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">cstride</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="gp">... </span>                  <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ground truth&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Other examples are given
<span class="xref std std-ref">in the tutorial</span>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">NearestNDInterpolator</span></code></dt><dd><p>Nearest neighbor interpolator on <em>unstructured</em> data in N dimensions</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">LinearNDInterpolator</span></code></dt><dd><p>Piecewise linear interpolator on <em>unstructured</em> data in N dimensions</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">interpn</span></code></dt><dd><p>a convenience function which wraps <cite>RegularGridInterpolator</cite></p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.ndimage.map_coordinates</span></code></dt><dd><p>interpolation on grids with equal spacing (suitable for e.g., N-D image resampling)</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id3" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p>Python package <em>regulargrid</em> by Johannes Buchner, see
<a class="reference external" href="https://pypi.python.org/pypi/regulargrid/">https://pypi.python.org/pypi/regulargrid/</a></p>
</aside>
<aside class="footnote brackets" id="id4" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></span>
<p>Wikipedia, “Trilinear interpolation”,
<a class="reference external" href="https://en.wikipedia.org/wiki/Trilinear_interpolation">https://en.wikipedia.org/wiki/Trilinear_interpolation</a></p>
</aside>
<aside class="footnote brackets" id="id5" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></span>
<p>Weiser, Alan, and Sergio E. Zarantonello. “A note on piecewise linear
and multilinear table interpolation in many dimensions.” MATH.
COMPUT. 50.181 (1988): 189-196.
<a class="reference external" href="https://www.ams.org/journals/mcom/1988-50-181/S0025-5718-1988-0917826-0/S0025-5718-1988-0917826-0.pdf">https://www.ams.org/journals/mcom/1988-50-181/S0025-5718-1988-0917826-0/S0025-5718-1988-0917826-0.pdf</a>
<a href="#id6"><span class="problematic" id="id7">:doi:`10.1090/S0025-5718-1988-0917826-0`</span></a></p>
</aside>
</aside>
<dl class="py method">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scipy/interpolate/_rgi.html#RegularGridInterpolator.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id0" title="Link to this definition">¶</a></dt>
<dd><p>Interpolation at coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xi</strong> (<em>ndarray</em><em> of </em><em>shape</em><em> (</em><em>...</em><em>, </em><em>ndim</em><em>)</em>) – The coordinates to evaluate the interpolator at.</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – The method of interpolation to perform. Supported are “linear”,
“nearest”, “slinear”, “cubic”, “quintic” and “pchip”. Default is
the method chosen when the interpolator was created.</p></li>
<li><p><strong>nu</strong> (<em>sequence</em><em> of </em><em>ints</em><em>, </em><em>length ndim</em><em>, </em><em>optional</em>) – <p>If not None, the orders of the derivatives to evaluate.
Each entry must be non-negative.
Only allowed for methods “slinear”, “cubic” and “quintic”.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.13.</span></p>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>values_x</strong> – Interpolated values at <cite>xi</cite>. See notes for behaviour when
<code class="docutils literal notranslate"><span class="pre">xi.ndim</span> <span class="pre">==</span> <span class="pre">1</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray, shape xi.shape[:-1] + values.shape[ndim:]</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>In the case that <code class="docutils literal notranslate"><span class="pre">xi.ndim</span> <span class="pre">==</span> <span class="pre">1</span></code> a new axis is inserted into
the 0 position of the returned array, values_x, so its shape is
instead <code class="docutils literal notranslate"><span class="pre">(1,)</span> <span class="pre">+</span> <span class="pre">values.shape[ndim:]</span></code>.</p>
<p class="rubric">Examples</p>
<p>Here we define a nearest-neighbor interpolator of a simple function</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">indexing</span><span class="o">=</span><span class="s1">&#39;ij&#39;</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">scipy.interpolate</span><span class="w"> </span><span class="kn">import</span> <span class="n">RegularGridInterpolator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">interp</span> <span class="o">=</span> <span class="n">RegularGridInterpolator</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="n">data</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>By construction, the interpolator uses the nearest-neighbor
interpolation</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">interp</span><span class="p">([[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">]])</span>
<span class="go">array([2., 9.])</span>
</pre></div>
</div>
<p>We can however evaluate the linear interpolant by overriding the
<cite>method</cite> parameter</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">interp</span><span class="p">([[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">]],</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">)</span>
<span class="go">array([ 4.7, 24.3])</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tracers.Tracers">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Tracers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lowerbound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upperbound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">age</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">respawn_chance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed_multiply</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">viewer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tracers.html#Tracers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tracers.Tracers" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="tracers.Tracers.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lowerbound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upperbound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">age</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">respawn_chance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed_multiply</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">viewer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tracers.html#Tracers.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tracers.Tracers.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Seed random particles into a vector field and trace their positions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> (<em>list</em><em> of </em><em>coord arrays for each dimension as expected by RegularGridInterpolator</em><em>,</em>) – or a numpy array of 2d or 3d vertices, which will be converted before being sent to the interpolator
Object returned from first call, pass None on first pass</p></li>
<li><p><strong>count</strong> (<em>int</em>) – Number of particles to seed and track</p></li>
<li><p><strong>lowerbound</strong> (<em>optional minimum vertex point defining particle bounding box</em><em>,</em>) – if not provided will be taken from grid lower corner</p></li>
<li><p><strong>upperbound</strong> (<em>optional maximum vertex point defining particle bounding box</em><em>,</em>) – if not provided will be taken from grid upper corner</p></li>
<li><p><strong>limit</strong> (<em>float</em>) – Distance limit over which tracers are not connected,
For example if using a periodic boundary, setting limit to
half the bounding box size will prevent tracer lines being
connected when passing through the boundary</p></li>
<li><p><strong>age</strong> (<em>int</em>) – Minimum particle age in steps after which particle can be deleted and respawned, defaults to 4</p></li>
<li><p><strong>respawn</strong> (<em>float</em>) – Probability of respawning, after age reached, default 0.2 ==&gt; 1 in 5 chance of deletion</p></li>
<li><p><strong>speed_multiply</strong> (<em>float</em>) – Speed multiplier, scaling factor for the velocity taken from the vector values</p></li>
<li><p><strong>height</strong> (<em>float</em>) – A fixed height value, all positions will be given this height as their Z component</p></li>
<li><p><strong>viewer</strong> (<a class="reference internal" href="lavavu.html#lavavu.Viewer" title="lavavu.Viewer"><em>lavavu.Viewer</em></a>) – Viewer object for plotting functions</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">LavaVu</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tutorials.html">Python Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="Property-Reference.html">Property Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="Scripting-Commands-Reference.html">Scripting Commands Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="lavavu.html">API Reference: lavavu</a></li>
<li class="toctree-l1"><a class="reference internal" href="control.html">API Reference: control</a></li>
<li class="toctree-l1"><a class="reference internal" href="convert.html">API Reference: convert</a></li>
<li class="toctree-l1"><a class="reference internal" href="points.html">API Reference: points</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference: tracers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-summary">Module Summary</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#functions">functions:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#classes">classes:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-details">Module Details</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">functions:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">classes:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Interaction.html">Interaction with keyboard/mouse</a></li>
<li class="toctree-l1"><a class="reference internal" href="Commandline-Arguments.html">Running from command Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="Setting-Properties.html">Setting Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="GLDB-file-format.html">GLDB File Format</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/lavavu/LavaVu">LavaVu Github</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/lavavu/LavaVu/wiki">LavaVu Wiki</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/lavavu/LavaVu/issues">LavaVu Issue Tracker</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="points.html" title="previous chapter">points module</a></li>
      <li>Next: <a href="Interaction.html" title="next chapter">User Interface commands</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2020, Monash University.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.4.4</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/tracers.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>